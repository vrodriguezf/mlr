<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Site Verification --><meta name="google-site-verification" content="BrjL5fpoyHZu1rR8rwnnM2MBO3u3iIFB8NsmSuOsY84">
<title>Benchmark Experiments • mlr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../jquery.sticky-kit.min.js"></script><script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<script src="../../extra.js"></script><meta property="og:title" content="Benchmark Experiments">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
<link rel="icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
<link rel="apple-touch-icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../../index.html"></a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/tutorial/task.html">Tasks</a>
    </li>
    <li>
      <a href="../../articles/tutorial/learner.html">Learners</a>
    </li>
    <li>
      <a href="../../articles/tutorial/train.html">Train</a>
    </li>
    <li>
      <a href="../../articles/tutorial/predict.html">Predict</a>
    </li>
    <li>
      <a href="../../articles/tutorial/preproc.html">Preprocessing</a>
    </li>
    <li>
      <a href="../../articles/tutorial/performance.html">Performance</a>
    </li>
    <li>
      <a href="../../articles/tutorial/resample.html">Resampling</a>
    </li>
    <li>
      <a href="../../articles/tutorial/tune.html">Tuning</a>
    </li>
    <li>
      <a href="../../articles/tutorial/benchmark_experiments.html">Benchmark Experiments</a>
    </li>
    <li>
      <a href="../../articles/tutorial/parallelization.html">Parallelization</a>
    </li>
    <li>
      <a href="../../articles/tutorial/visualization.html">Visualization</a>
    </li>
    <li>
      <a href="../../articles/tutorial/usecase_regression.html">Use case - Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/tutorial/configureMlr.html">Configuration</a>
    </li>
    <li>
      <a href="../../articles/tutorial/wrapper.html">Wrapped Learners</a>
    </li>
    <li>
      <a href="../../articles/tutorial/impute.html">Imputation</a>
    </li>
    <li>
      <a href="../../articles/tutorial/bagging.html">Generic Bagging</a>
    </li>
    <li>
      <a href="../../articles/tutorial/advanced_tune.html">Advanced Tuning</a>
    </li>
    <li>
      <a href="../../articles/tutorial/feature_selection.html">Feature Selection/Filtering</a>
    </li>
    <li>
      <a href="../../articles/tutorial/nested_resampling.html">Nested Resampling</a>
    </li>
    <li>
      <a href="../../articles/tutorial/cost_sensitive_classif.html">Cost-Sensitive Classification</a>
    </li>
    <li>
      <a href="../../articles/tutorial/over_and_undersampling.html">Imbalanced Classification Problems</a>
    </li>
    <li>
      <a href="../../articles/tutorial/roc_analysis.html">ROC Analysis and Performance Curves</a>
    </li>
    <li>
      <a href="../../articles/tutorial/multilabel.html">Multilabel Classification</a>
    </li>
    <li>
      <a href="../../articles/tutorial/learning_curve.html">Learning Curve Analysis</a>
    </li>
    <li>
      <a href="../../articles/tutorial/partial_dependence.html">Partial Dependence Plots</a>
    </li>
    <li>
      <a href="../../articles/tutorial/classifier_calibration.html">Classifier Calibration</a>
    </li>
    <li>
      <a href="../../articles/tutorial/hyperpar_tuning_effects.html">Hyperparameter Tuning Effects</a>
    </li>
    <li>
      <a href="../../articles/tutorial/out_of_bag_predictions.html">Out-of-Bag Predictions</a>
    </li>
    <li>
      <a href="../../articles/tutorial/handling_of_spatial_data.html">Handling of Spatial Data</a>
    </li>
    <li>
      <a href="../../articles/tutorial/functional_data.html">Functional Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extending
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/tutorial/create_learner.html">Create Custom Learners</a>
    </li>
    <li>
      <a href="../../articles/tutorial/create_measure.html">Create Custom Measures</a>
    </li>
    <li>
      <a href="../../articles/tutorial/create_imputation.html">Create Imputation Methods</a>
    </li>
    <li>
      <a href="../../articles/tutorial/create_filter.html">Create Custom Filters</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Appendix
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../reference/index.html">Function Reference</a>
    </li>
    <li>
      <a href="../../news/index.html">News</a>
    </li>
    <li>
      <a href="../../articles/tutorial/example_tasks.html">Example Tasks</a>
    </li>
    <li>
      <a href="../../articles/tutorial/integrated_learners.html">Integrated Learners</a>
    </li>
    <li>
      <a href="../../articles/tutorial/measures.html">Implemented Measures</a>
    </li>
    <li>
      <a href="../../articles/tutorial/filter_methods.html">Integrated Filter Methods</a>
    </li>
    <li>
      <a href="../../articles/tutorial/mlr_publications.html">mlr Publications</a>
    </li>
    <li>
      <a href="../../articles/tutorial/talks_videos_workshops.html">Talks, Videos and Workshops</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    mlr-org Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/mlr-org/mlrMBO">mlrMBO</a>
    </li>
    <li>
      <a href="https://github.com/mlr-org/mlrCPO">mlrCPO</a>
    </li>
    <li>
      <a href="http://jakob-r.de/mlrHyperopt/index.html">mlrHyperopt</a>
    </li>
    <li>
      <a href="http://openml.github.io/openml-r/vignettes/OpenML.html">OpenML</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlr-org/mlr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fa fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fa fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-blog.netlify.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Benchmark Experiments</h1>
            
      
      <!--The 'toc' block was inserted manually by @pat-s. It triggeres the inline ToC in the vignettes.-->
            <div id="toc">
      <h3 class="hasAnchor">
<a href="#toc" class="anchor"></a>Table of Contents</h3>
      <ul>
<li>
<a href="#conducting-benchmark-experiments">Conducting benchmark experiments</a><ul>
<li><a href="#making-experiments-reproducible">Making experiments reproducible</a></li>
      </ul>
</li>
      <li>
<a href="#accessing-benchmark-results">Accessing benchmark results</a><ul>
<li><a href="#learner-performances">Learner performances</a></li>
      <li><a href="#predictions">Predictions</a></li>
      <li><a href="#ids">IDs</a></li>
      <li><a href="#fitted-models">Fitted models</a></li>
      <li><a href="#learners-and-measures">Learners and measures</a></li>
      </ul>
</li>
      <li><a href="#merging-benchmark-results">Merging benchmark results</a></li>
      <li>
<a href="#benchmark-analysis-and-visualization">Benchmark analysis and visualization</a><ul>
<li><a href="#example-comparing-lda-rpart-and-random-forest">Example: Comparing lda, rpart and random Forest</a></li>
      <li><a href="#integrated-plots">Integrated plots</a></li>
      <li><a href="#comparing-learners-using-hypothesis-tests">Comparing learners using hypothesis tests</a></li>
      <li><a href="#critical-differences-diagram">Critical differences diagram</a></li>
      <li><a href="#custom-plots">Custom plots</a></li>
      </ul>
</li>
      <li><a href="#further-comments">Further comments</a></li>
      </ul>
</div>
      
      <small>Source: <a href="https://github.com/mlr-org/mlr/blob/master/vignettes/tutorial/benchmark_experiments.Rmd"><code>vignettes/tutorial/benchmark_experiments.Rmd</code></a></small>

    </div>

    
    
<div class="contents">
<p>In a benchmark experiment different learning methods are applied to one or several data sets with the aim to compare and rank the algorithms with respect to one or more performance measures.</p>
<p>In <code>mlr</code> a benchmark experiment can be conducted by calling function <code><a href="../../reference/benchmark.html">benchmark()</a></code> on a <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s and a <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of <code><a href="../../reference/Task.html">Task()</a></code>s. <code><a href="../../reference/benchmark.html">benchmark()</a></code> basically executes <code><a href="../../reference/resample.html">resample()</a></code> for each combination of <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> and <code><a href="../../reference/Task.html">Task()</a></code>. You can specify an individual resampling strategy for each <code><a href="../../reference/Task.html">Task()</a></code> and select one or multiple performance measures to be calculated.</p>
<div id="conducting-benchmark-experiments" class="section level1">
<h1 class="hasAnchor">
<a href="#conducting-benchmark-experiments" class="anchor"></a>Conducting benchmark experiments</h1>
<p>We start with a small example. Two learners, <code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code> and a <code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code>, are applied to one classification problem (<code><a href="../../reference/sonar.task.html">sonar.task()</a></code>). As resampling strategy we choose <code>"Holdout"</code>. The performance is thus calculated on a single randomly sampled test data set.</p>
<p>In the example below we create a resample description (<code><a href="../../reference/makeResampleDesc.html">makeResampleDesc()</a></code>), which is automatically instantiated by <code><a href="../../reference/benchmark.html">benchmark()</a></code>. The instantiation is done only once per <code><a href="../../reference/Task.html">Task()</a></code>, i.e., the same training and test sets are used for all learners. It is also possible to directly pass a <code><a href="../../reference/makeResampleInstance.html">makeResampleInstance()</a></code>.</p>
<p>If you would like to use a <em>fixed test data set</em> instead of a randomly selected one, you can create a suitable <code><a href="../../reference/makeResampleInstance.html">makeResampleInstance()</a></code> through function <code><a href="../../reference/makeFixedHoldoutInstance.html">makeFixedHoldoutInstance()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Two learners to be compared</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">lrns =<span class="st"> </span><span class="kw">list</span>(<span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.lda"</span>), <span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.rpart"</span>))</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># Choose the resampling strategy</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">rdesc =<span class="st"> </span><span class="kw"><a href="../../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Holdout"</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co"># Conduct the benchmark experiment</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">bmr =<span class="st"> </span><span class="kw"><a href="../../reference/benchmark.html">benchmark</a></span>(lrns, sonar.task, rdesc)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">## Task: Sonar-example, Learner: classif.lda</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">## Resampling: holdout</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">## Measures:             mmce</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">## [Resample] iter 1:    0.2571429</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">## </a>
<a class="sourceLine" id="cb1-14" data-line-number="14">## Aggregated Result: mmce.test.mean=0.2571429</a>
<a class="sourceLine" id="cb1-15" data-line-number="15">## </a>
<a class="sourceLine" id="cb1-16" data-line-number="16">## Task: Sonar-example, Learner: classif.rpart</a>
<a class="sourceLine" id="cb1-17" data-line-number="17">## Resampling: holdout</a>
<a class="sourceLine" id="cb1-18" data-line-number="18">## Measures:             mmce</a>
<a class="sourceLine" id="cb1-19" data-line-number="19">## [Resample] iter 1:    0.2714286</a>
<a class="sourceLine" id="cb1-20" data-line-number="20">## </a>
<a class="sourceLine" id="cb1-21" data-line-number="21">## Aggregated Result: mmce.test.mean=0.2714286</a>
<a class="sourceLine" id="cb1-22" data-line-number="22">## </a>
<a class="sourceLine" id="cb1-23" data-line-number="23"></a>
<a class="sourceLine" id="cb1-24" data-line-number="24">bmr</a>
<a class="sourceLine" id="cb1-25" data-line-number="25">##         task.id    learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb1-26" data-line-number="26">## 1 Sonar-example   classif.lda      0.2571429</a>
<a class="sourceLine" id="cb1-27" data-line-number="27">## 2 Sonar-example classif.rpart      0.2714286</a></code></pre></div>
<p>For convenience, if you don’t want to pass any additional arguments to <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>, you don’t need to generate the <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s explicitly, but it’s sufficient to provide the learner name. In the above example we could also have written:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># Vector of strings</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">lrns =<span class="st"> </span><span class="kw">c</span>(<span class="st">"classif.lda"</span>, <span class="st">"classif.rpart"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># A mixed list of Learner objects and strings works, too</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">lrns =<span class="st"> </span><span class="kw">list</span>(<span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.lda"</span>, <span class="dt">predict.type =</span> <span class="st">"prob"</span>), <span class="st">"classif.rpart"</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">bmr =<span class="st"> </span><span class="kw"><a href="../../reference/benchmark.html">benchmark</a></span>(lrns, sonar.task, rdesc)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">## Task: Sonar-example, Learner: classif.lda</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">## Resampling: holdout</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">## Measures:             mmce</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">## [Resample] iter 1:    0.3000000</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">## </a>
<a class="sourceLine" id="cb2-13" data-line-number="13">## Aggregated Result: mmce.test.mean=0.3000000</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">## </a>
<a class="sourceLine" id="cb2-15" data-line-number="15">## Task: Sonar-example, Learner: classif.rpart</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">## Resampling: holdout</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">## Measures:             mmce</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">## [Resample] iter 1:    0.3142857</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">## </a>
<a class="sourceLine" id="cb2-20" data-line-number="20">## Aggregated Result: mmce.test.mean=0.3142857</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">## </a>
<a class="sourceLine" id="cb2-22" data-line-number="22"></a>
<a class="sourceLine" id="cb2-23" data-line-number="23">bmr</a>
<a class="sourceLine" id="cb2-24" data-line-number="24">##         task.id    learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb2-25" data-line-number="25">## 1 Sonar-example   classif.lda      0.3000000</a>
<a class="sourceLine" id="cb2-26" data-line-number="26">## 2 Sonar-example classif.rpart      0.3142857</a></code></pre></div>
<p>In the printed summary table every row corresponds to one pair of <code><a href="../../reference/Task.html">Task()</a></code> and <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>. The entries show the <a href="measures.html" target="_blank">mean misclassification error</a>, the default performance measure for classification, on the test data set.</p>
<p>The result <code>bmr</code> is an object of class <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code>. Basically, it contains a <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of lists of <code><a href="../../reference/ResampleResult.html">ResampleResult()</a></code> objects, first ordered by <code><a href="../../reference/Task.html">Task()</a></code> and then by <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>.</p>
<div id="making-experiments-reproducible" class="section level2">
<h2 class="hasAnchor">
<a href="#making-experiments-reproducible" class="anchor"></a>Making experiments reproducible</h2>
<p>Typically, we would want our experiment results to be reproducible. <code>mlr</code> obeys the <code>set.seed</code> function, so make sure to use <code>set.seed</code> at the beginning of your script if you would like your results to be reproducible.</p>
<p>Note that if you are using parallel computing, you may need to adjust how you call <code>set.seed</code> depending on your usecase. One possibility is to use <code>set.seed(123, "L'Ecuyer")</code> in order to ensure the results are reproducible for each child process. See the examples in <code><a href="http://www.rdocumentation.org/packages/parallel/topics/mclapply">parallel::mclapply()</a></code> for more information on reproducibility and parallel computing.</p>
</div>
</div>
<div id="accessing-benchmark-results" class="section level1">
<h1 class="hasAnchor">
<a href="#accessing-benchmark-results" class="anchor"></a>Accessing benchmark results</h1>
<p><code>mlr</code> provides several accessor functions, named <code>getBMR&lt;WhatToExtract&gt;</code>, that permit to retrieve information for further analyses. This includes for example the performances or predictions of the learning algorithms under consideration.</p>
<div id="learner-performances" class="section level2">
<h2 class="hasAnchor">
<a href="#learner-performances" class="anchor"></a>Learner performances</h2>
<p>Let’s have a look at the benchmark result above. <code><a href="../../reference/getBMRPerformances.html">getBMRPerformances()</a></code> returns individual performances in resampling runs, while <code><a href="../../reference/getBMRAggrPerformances.html">getBMRAggrPerformances()</a></code> gives the aggregated values.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">## $`Sonar-example`</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">## $`Sonar-example`$classif.lda</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">##   iter mmce</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">## 1    1  0.3</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">## </a>
<a class="sourceLine" id="cb3-7" data-line-number="7">## $`Sonar-example`$classif.rpart</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">##   iter      mmce</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">## 1    1 0.3142857</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw"><a href="../../reference/getBMRAggrPerformances.html">getBMRAggrPerformances</a></span>(bmr)</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">## $`Sonar-example`</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">## $`Sonar-example`$classif.lda</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">## mmce.test.mean </a>
<a class="sourceLine" id="cb3-15" data-line-number="15">##            0.3 </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">## </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">## $`Sonar-example`$classif.rpart</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">## mmce.test.mean </a>
<a class="sourceLine" id="cb3-19" data-line-number="19">##      0.3142857</a></code></pre></div>
<p>Since we used holdout as resampling strategy, individual and aggregated performance values coincide.</p>
<p>By default, nearly all “getter” functions return a nested <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code>, with the first level indicating the task and the second level indicating the learner. If only a single learner or, as in our case a single task is considered, setting <code>drop = TRUE</code> simplifies the result to a flat <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">## $classif.lda</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">##   iter mmce</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">## 1    1  0.3</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">## </a>
<a class="sourceLine" id="cb4-6" data-line-number="6">## $classif.rpart</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">##   iter      mmce</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">## 1    1 0.3142857</a></code></pre></div>
<p>Often it is more convenient to work with <code><a href="http://www.rdocumentation.org/packages/base/topics/data.frame">base::data.frame()</a></code>s. You can easily convert the result structure by setting <code>as.df = TRUE</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr, <span class="dt">as.df =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">##         task.id    learner.id iter      mmce</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">## 1 Sonar-example   classif.lda    1 0.3000000</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">## 2 Sonar-example classif.rpart    1 0.3142857</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw"><a href="../../reference/getBMRAggrPerformances.html">getBMRAggrPerformances</a></span>(bmr, <span class="dt">as.df =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">##         task.id    learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">## 1 Sonar-example   classif.lda      0.3000000</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">## 2 Sonar-example classif.rpart      0.3142857</a></code></pre></div>
</div>
<div id="predictions" class="section level2">
<h2 class="hasAnchor">
<a href="#predictions" class="anchor"></a>Predictions</h2>
<p>Per default, the <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code> contains the learner predictions. If you do not want to keep them, e.g., to conserve memory, set <code>keep.pred = FALSE</code> when calling <code><a href="../../reference/benchmark.html">benchmark()</a></code>.</p>
<p>You can access the predictions using function <code><a href="../../reference/getBMRPredictions.html">getBMRPredictions()</a></code>. Per default, you get a nested <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of <code><a href="../../reference/ResamplePrediction.html">ResamplePrediction()</a></code>objects. As above, you can use the <code>drop</code> or <code>as.df</code> options to simplify the result.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRPredictions.html">getBMRPredictions</a></span>(bmr)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">## $`Sonar-example`</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">## $`Sonar-example`$classif.lda</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">## Resampled Prediction for:</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">## Predict: test</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">## Stratification: FALSE</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">## predict.type: prob</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">## threshold: M=0.50,R=0.50</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">## time (mean): 0.00</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">##    id truth       prob.M    prob.R response iter  set</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">## 1 110     M 1.030021e-02 0.9896998        R    1 test</a>
<a class="sourceLine" id="cb6-13" data-line-number="13">## 2  87     R 7.021385e-01 0.2978615        M    1 test</a>
<a class="sourceLine" id="cb6-14" data-line-number="14">## 3 128     M 1.830008e-03 0.9981700        R    1 test</a>
<a class="sourceLine" id="cb6-15" data-line-number="15">## 4  38     R 1.741571e-04 0.9998258        R    1 test</a>
<a class="sourceLine" id="cb6-16" data-line-number="16">## 5  65     R 8.870874e-06 0.9999911        R    1 test</a>
<a class="sourceLine" id="cb6-17" data-line-number="17">## 6  12     R 2.029072e-01 0.7970928        R    1 test</a>
<a class="sourceLine" id="cb6-18" data-line-number="18">## ... (#rows: 70, #cols: 7)</a>
<a class="sourceLine" id="cb6-19" data-line-number="19">## </a>
<a class="sourceLine" id="cb6-20" data-line-number="20">## $`Sonar-example`$classif.rpart</a>
<a class="sourceLine" id="cb6-21" data-line-number="21">## Resampled Prediction for:</a>
<a class="sourceLine" id="cb6-22" data-line-number="22">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb6-23" data-line-number="23">## Predict: test</a>
<a class="sourceLine" id="cb6-24" data-line-number="24">## Stratification: FALSE</a>
<a class="sourceLine" id="cb6-25" data-line-number="25">## predict.type: response</a>
<a class="sourceLine" id="cb6-26" data-line-number="26">## threshold: </a>
<a class="sourceLine" id="cb6-27" data-line-number="27">## time (mean): 0.00</a>
<a class="sourceLine" id="cb6-28" data-line-number="28">##    id truth response iter  set</a>
<a class="sourceLine" id="cb6-29" data-line-number="29">## 1 110     M        R    1 test</a>
<a class="sourceLine" id="cb6-30" data-line-number="30">## 2  87     R        R    1 test</a>
<a class="sourceLine" id="cb6-31" data-line-number="31">## 3 128     M        R    1 test</a>
<a class="sourceLine" id="cb6-32" data-line-number="32">## 4  38     R        R    1 test</a>
<a class="sourceLine" id="cb6-33" data-line-number="33">## 5  65     R        M    1 test</a>
<a class="sourceLine" id="cb6-34" data-line-number="34">## 6  12     R        R    1 test</a>
<a class="sourceLine" id="cb6-35" data-line-number="35">## ... (#rows: 70, #cols: 5)</a>
<a class="sourceLine" id="cb6-36" data-line-number="36"></a>
<a class="sourceLine" id="cb6-37" data-line-number="37"><span class="kw">head</span>(<span class="kw"><a href="../../reference/getBMRPredictions.html">getBMRPredictions</a></span>(bmr, <span class="dt">as.df =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb6-38" data-line-number="38">##         task.id  learner.id  id truth       prob.M    prob.R response iter</a>
<a class="sourceLine" id="cb6-39" data-line-number="39">## 1 Sonar-example classif.lda 110     M 1.030021e-02 0.9896998        R    1</a>
<a class="sourceLine" id="cb6-40" data-line-number="40">## 2 Sonar-example classif.lda  87     R 7.021385e-01 0.2978615        M    1</a>
<a class="sourceLine" id="cb6-41" data-line-number="41">## 3 Sonar-example classif.lda 128     M 1.830008e-03 0.9981700        R    1</a>
<a class="sourceLine" id="cb6-42" data-line-number="42">## 4 Sonar-example classif.lda  38     R 1.741571e-04 0.9998258        R    1</a>
<a class="sourceLine" id="cb6-43" data-line-number="43">## 5 Sonar-example classif.lda  65     R 8.870874e-06 0.9999911        R    1</a>
<a class="sourceLine" id="cb6-44" data-line-number="44">## 6 Sonar-example classif.lda  12     R 2.029072e-01 0.7970928        R    1</a>
<a class="sourceLine" id="cb6-45" data-line-number="45">##    set</a>
<a class="sourceLine" id="cb6-46" data-line-number="46">## 1 test</a>
<a class="sourceLine" id="cb6-47" data-line-number="47">## 2 test</a>
<a class="sourceLine" id="cb6-48" data-line-number="48">## 3 test</a>
<a class="sourceLine" id="cb6-49" data-line-number="49">## 4 test</a>
<a class="sourceLine" id="cb6-50" data-line-number="50">## 5 test</a>
<a class="sourceLine" id="cb6-51" data-line-number="51">## 6 test</a></code></pre></div>
<p>It is also easily possible to access results for certain learners or tasks via their IDs. For this purpose many “getter” functions have a <code>learner.ids</code> and a <code>task.ids</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">head</span>(<span class="kw"><a href="../../reference/getBMRPredictions.html">getBMRPredictions</a></span>(bmr, <span class="dt">learner.ids =</span> <span class="st">"classif.rpart"</span>, <span class="dt">as.df =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">##         task.id    learner.id  id truth response iter  set</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">## 1 Sonar-example classif.rpart 110     M        R    1 test</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">## 2 Sonar-example classif.rpart  87     R        R    1 test</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">## 3 Sonar-example classif.rpart 128     M        R    1 test</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">## 4 Sonar-example classif.rpart  38     R        R    1 test</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">## 5 Sonar-example classif.rpart  65     R        M    1 test</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">## 6 Sonar-example classif.rpart  12     R        R    1 test</a></code></pre></div>
<p>If you don’t like the default IDs, you can set the IDs of learners and tasks via the <code>id</code> option of <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> and <code>makeTask()</code>. Moreover, you can conveniently change the ID of a <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> via function <code>setLearnerid()</code>.</p>
</div>
<div id="ids" class="section level2">
<h2 class="hasAnchor">
<a href="#ids" class="anchor"></a>IDs</h2>
<p>The IDs of all <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s, <code><a href="../../reference/Task.html">Task()</a></code>s and Measure’s (<code><a href="../../reference/makeMeasure.html">makeMeasure()</a></code>) in a benchmark experiment can be retrieved as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRTaskIds.html">getBMRTaskIds</a></span>(bmr)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">## [1] "Sonar-example"</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">## [1] "classif.lda"   "classif.rpart"</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="kw"><a href="../../reference/getBMRMeasureIds.html">getBMRMeasureIds</a></span>(bmr)</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">## [1] "mmce"</a></code></pre></div>
</div>
<div id="fitted-models" class="section level2">
<h2 class="hasAnchor">
<a href="#fitted-models" class="anchor"></a>Fitted models</h2>
<p>Per default the <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code> also contains the fitted models for all learners on all tasks. If you do not want to keep them set <code>models = FALSE</code> when calling <code><a href="../../reference/benchmark.html">benchmark()</a></code>. The fitted models can be retrieved by function <code><a href="../../reference/getBMRModels.html">getBMRModels()</a></code>. It returns a (possibly nested) <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of <code>WrappedModel</code> (<code><a href="../../reference/makeWrappedModel.html">makeWrappedModel()</a></code>) objects.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRModels.html">getBMRModels</a></span>(bmr)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">## $`Sonar-example`</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">## $`Sonar-example`$classif.lda</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">## $`Sonar-example`$classif.lda[[1]]</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">## Model for learner.id=classif.lda; learner.class=classif.lda</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">## Trained on: task.id = Sonar-example; obs = 138; features = 60</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">## Hyperparameters: </a>
<a class="sourceLine" id="cb9-8" data-line-number="8">## </a>
<a class="sourceLine" id="cb9-9" data-line-number="9">## </a>
<a class="sourceLine" id="cb9-10" data-line-number="10">## $`Sonar-example`$classif.rpart</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">## $`Sonar-example`$classif.rpart[[1]]</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">## Model for learner.id=classif.rpart; learner.class=classif.rpart</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">## Trained on: task.id = Sonar-example; obs = 138; features = 60</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">## Hyperparameters: xval=0</a>
<a class="sourceLine" id="cb9-15" data-line-number="15"></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="kw"><a href="../../reference/getBMRModels.html">getBMRModels</a></span>(bmr, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">## $classif.lda</a>
<a class="sourceLine" id="cb9-18" data-line-number="18">## $classif.lda[[1]]</a>
<a class="sourceLine" id="cb9-19" data-line-number="19">## Model for learner.id=classif.lda; learner.class=classif.lda</a>
<a class="sourceLine" id="cb9-20" data-line-number="20">## Trained on: task.id = Sonar-example; obs = 138; features = 60</a>
<a class="sourceLine" id="cb9-21" data-line-number="21">## Hyperparameters: </a>
<a class="sourceLine" id="cb9-22" data-line-number="22">## </a>
<a class="sourceLine" id="cb9-23" data-line-number="23">## </a>
<a class="sourceLine" id="cb9-24" data-line-number="24">## $classif.rpart</a>
<a class="sourceLine" id="cb9-25" data-line-number="25">## $classif.rpart[[1]]</a>
<a class="sourceLine" id="cb9-26" data-line-number="26">## Model for learner.id=classif.rpart; learner.class=classif.rpart</a>
<a class="sourceLine" id="cb9-27" data-line-number="27">## Trained on: task.id = Sonar-example; obs = 138; features = 60</a>
<a class="sourceLine" id="cb9-28" data-line-number="28">## Hyperparameters: xval=0</a>
<a class="sourceLine" id="cb9-29" data-line-number="29"></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="kw"><a href="../../reference/getBMRModels.html">getBMRModels</a></span>(bmr, <span class="dt">learner.ids =</span> <span class="st">"classif.lda"</span>)</a>
<a class="sourceLine" id="cb9-31" data-line-number="31">## $`Sonar-example`</a>
<a class="sourceLine" id="cb9-32" data-line-number="32">## $`Sonar-example`$classif.lda</a>
<a class="sourceLine" id="cb9-33" data-line-number="33">## $`Sonar-example`$classif.lda[[1]]</a>
<a class="sourceLine" id="cb9-34" data-line-number="34">## Model for learner.id=classif.lda; learner.class=classif.lda</a>
<a class="sourceLine" id="cb9-35" data-line-number="35">## Trained on: task.id = Sonar-example; obs = 138; features = 60</a>
<a class="sourceLine" id="cb9-36" data-line-number="36">## Hyperparameters:</a></code></pre></div>
</div>
<div id="learners-and-measures" class="section level2">
<h2 class="hasAnchor">
<a href="#learners-and-measures" class="anchor"></a>Learners and measures</h2>
<p>Moreover, you can extract the employed <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s and Measure’s (<code><a href="../../reference/makeMeasure.html">makeMeasure()</a></code>).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../../reference/getBMRLearners.html">getBMRLearners</a></span>(bmr)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">## $classif.lda</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">## Learner classif.lda from package MASS</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">## Type: classif</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">## Name: Linear Discriminant Analysis; Short name: lda</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">## Class: classif.lda</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">## Properties: twoclass,multiclass,numerics,factors,prob</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">## Predict-Type: prob</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">## Hyperparameters: </a>
<a class="sourceLine" id="cb10-10" data-line-number="10">## </a>
<a class="sourceLine" id="cb10-11" data-line-number="11">## </a>
<a class="sourceLine" id="cb10-12" data-line-number="12">## $classif.rpart</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">## Learner classif.rpart from package rpart</a>
<a class="sourceLine" id="cb10-14" data-line-number="14">## Type: classif</a>
<a class="sourceLine" id="cb10-15" data-line-number="15">## Name: Decision Tree; Short name: rpart</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">## Class: classif.rpart</a>
<a class="sourceLine" id="cb10-17" data-line-number="17">## Properties: twoclass,multiclass,missings,numerics,factors,ordered,prob,weights,featimp</a>
<a class="sourceLine" id="cb10-18" data-line-number="18">## Predict-Type: response</a>
<a class="sourceLine" id="cb10-19" data-line-number="19">## Hyperparameters: xval=0</a>
<a class="sourceLine" id="cb10-20" data-line-number="20"></a>
<a class="sourceLine" id="cb10-21" data-line-number="21"><span class="kw"><a href="../../reference/getBMRMeasures.html">getBMRMeasures</a></span>(bmr)</a>
<a class="sourceLine" id="cb10-22" data-line-number="22">## [[1]]</a>
<a class="sourceLine" id="cb10-23" data-line-number="23">## Name: Mean misclassification error</a>
<a class="sourceLine" id="cb10-24" data-line-number="24">## Performance measure: mmce</a>
<a class="sourceLine" id="cb10-25" data-line-number="25">## Properties: classif,classif.multi,req.pred,req.truth</a>
<a class="sourceLine" id="cb10-26" data-line-number="26">## Minimize: TRUE</a>
<a class="sourceLine" id="cb10-27" data-line-number="27">## Best: 0; Worst: 1</a>
<a class="sourceLine" id="cb10-28" data-line-number="28">## Aggregated by: test.mean</a>
<a class="sourceLine" id="cb10-29" data-line-number="29">## Arguments: list()</a>
<a class="sourceLine" id="cb10-30" data-line-number="30">## Note: Defined as: mean(response != truth)</a></code></pre></div>
</div>
</div>
<div id="merging-benchmark-results" class="section level1">
<h1 class="hasAnchor">
<a href="#merging-benchmark-results" class="anchor"></a>Merging benchmark results</h1>
<p>Sometimes after completing a benchmark experiment it turns out that you want to extend it by another <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> or another <code><a href="../../reference/Task.html">Task()</a></code>. In this case you can perform an additional benchmark experiment and then use function <code><a href="../../reference/mergeBenchmarkResults.html">mergeBenchmarkResults()</a></code> to combine the results to a single <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code> object that can be accessed and analyzed as usual.</p>
<p>For example in the benchmark experiment above we applied <code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code> and <code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code> to the <code><a href="../../reference/sonar.task.html">sonar.task()</a></code>. We now perform a second experiment using a <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> and quadratic discriminant analysis <code><a href="http://www.rdocumentation.org/packages/MASS/topics/qda">MASS::qda()</a></code> and merge the results.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># First benchmark result</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">bmr</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">##         task.id    learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">## 1 Sonar-example   classif.lda      0.3000000</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">## 2 Sonar-example classif.rpart      0.3142857</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co"># Benchmark experiment for the additional learners</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">lrns2 =<span class="st"> </span><span class="kw">list</span>(<span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.randomForest"</span>), <span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.qda"</span>))</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">bmr2 =<span class="st"> </span><span class="kw"><a href="../../reference/benchmark.html">benchmark</a></span>(lrns2, sonar.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">bmr2</a>
<a class="sourceLine" id="cb11-11" data-line-number="11">##         task.id           learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb11-12" data-line-number="12">## 1 Sonar-example classif.randomForest      0.1857143</a>
<a class="sourceLine" id="cb11-13" data-line-number="13">## 2 Sonar-example          classif.qda      0.4000000</a>
<a class="sourceLine" id="cb11-14" data-line-number="14"></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co"># Merge the results</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="kw"><a href="../../reference/mergeBenchmarkResults.html">mergeBenchmarkResults</a></span>(<span class="kw">list</span>(bmr, bmr2))</a>
<a class="sourceLine" id="cb11-17" data-line-number="17">##         task.id           learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb11-18" data-line-number="18">## 1 Sonar-example          classif.lda      0.3000000</a>
<a class="sourceLine" id="cb11-19" data-line-number="19">## 2 Sonar-example        classif.rpart      0.3142857</a>
<a class="sourceLine" id="cb11-20" data-line-number="20">## 3 Sonar-example classif.randomForest      0.1857143</a>
<a class="sourceLine" id="cb11-21" data-line-number="21">## 4 Sonar-example          classif.qda      0.4000000</a></code></pre></div>
<p>Note that in the above examples in each case a resample description (<code><a href="../../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) was passed to the <code><a href="../../reference/benchmark.html">benchmark()</a></code> function. For this reason <code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code> and <code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code> were most likely evaluated on a different training/test set pair than <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> and <code><a href="http://www.rdocumentation.org/packages/MASS/topics/qda">MASS::qda()</a></code>.</p>
<p>Differing training/test set pairs across learners pose an additional source of variation in the results, which can make it harder to detect actual performance differences between learners. Therefore, if you suspect that you will have to extend your benchmark experiment by another <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> later on it’s probably easiest to work with <code><a href="../../reference/makeResampleInstance.html">makeResampleInstance()</a></code>s from the start. These can be stored and used for any additional experiments.</p>
<p>Alternatively, if you used a resample description in the first benchmark experiment you could also extract the <code><a href="../../reference/makeResampleInstance.html">makeResampleInstance()</a></code>s from the <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code> <code>bmr</code> and pass these to all further <code><a href="../../reference/benchmark.html">benchmark()</a></code> calls.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">rin =<span class="st"> </span><span class="kw"><a href="../../reference/getBMRPredictions.html">getBMRPredictions</a></span>(bmr)[[<span class="dv">1</span>]][[<span class="dv">1</span>]]<span class="op">$</span>instance</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">rin</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">## Resample instance for 208 cases.</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">## Predict: test</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">## Stratification: FALSE</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co"># Benchmark experiment for the additional random forest</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">bmr3 =<span class="st"> </span><span class="kw"><a href="../../reference/benchmark.html">benchmark</a></span>(lrns2, sonar.task, rin, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">bmr3</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">##         task.id           learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">## 1 Sonar-example classif.randomForest      0.1714286</a>
<a class="sourceLine" id="cb12-13" data-line-number="13">## 2 Sonar-example          classif.qda      0.4857143</a>
<a class="sourceLine" id="cb12-14" data-line-number="14"></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co"># Merge the results</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="kw"><a href="../../reference/mergeBenchmarkResults.html">mergeBenchmarkResults</a></span>(<span class="kw">list</span>(bmr, bmr3))</a>
<a class="sourceLine" id="cb12-17" data-line-number="17">##         task.id           learner.id mmce.test.mean</a>
<a class="sourceLine" id="cb12-18" data-line-number="18">## 1 Sonar-example          classif.lda      0.3000000</a>
<a class="sourceLine" id="cb12-19" data-line-number="19">## 2 Sonar-example        classif.rpart      0.3142857</a>
<a class="sourceLine" id="cb12-20" data-line-number="20">## 3 Sonar-example classif.randomForest      0.1714286</a>
<a class="sourceLine" id="cb12-21" data-line-number="21">## 4 Sonar-example          classif.qda      0.4857143</a></code></pre></div>
</div>
<div id="benchmark-analysis-and-visualization" class="section level1">
<h1 class="hasAnchor">
<a href="#benchmark-analysis-and-visualization" class="anchor"></a>Benchmark analysis and visualization</h1>
<p><code>mlr</code> offers several ways to analyze the results of a benchmark experiment. This includes visualization, ranking of learning algorithms and hypothesis tests to assess performance differences between learners.</p>
<p>In order to demonstrate the functionality we conduct a slightly larger benchmark experiment with three learning algorithms that are applied to five classification tasks.</p>
<div id="example-comparing-lda-rpart-and-random-forest" class="section level2">
<h2 class="hasAnchor">
<a href="#example-comparing-lda-rpart-and-random-forest" class="anchor"></a>Example: Comparing lda, rpart and random Forest</h2>
<p>We consider <code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code>, classification trees <code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code>, and random forests <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code>. Since the default learner IDs are a little long, we choose shorter names in the <strong>R</strong> code below.</p>
<p>We use five classification tasks. Three are already provided by <code>mlr</code>, two more data sets are taken from package <code>mlbench::mlbench()</code> and converted to <code><a href="../../reference/Task.html">Task()</a></code>s by function <code><a href="../../reference/convertMLBenchObjToTask.html">convertMLBenchObjToTask()</a></code>.</p>
<p>For all tasks 10-fold cross-validation is chosen as resampling strategy. This is achieved by passing a single resample description (<code><a href="../../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) to <code><a href="../../reference/benchmark.html">benchmark()</a></code>, which is then instantiated automatically once for each <code><a href="../../reference/Task.html">Task()</a></code>. This way, the same instance is used for all learners applied to a single task.</p>
<p>It is also possible to choose a different resampling strategy for each <code><a href="../../reference/Task.html">Task()</a></code> by passing a <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of the same length as the number of tasks that can contain both resample descriptions (<code><a href="../../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) and resample instances (<code><a href="../../reference/makeResampleInstance.html">makeResampleInstance()</a></code>).</p>
<p>We use the mean misclassification error <a href="measures.html" target="_blank">mmce</a> as primary performance measure, but also calculate the balanced error rate <a href="measures.html" target="_blank">ber</a> and the training time <code>timetrain</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># Create a list of learners</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">lrns =<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.lda"</span>, <span class="dt">id =</span> <span class="st">"lda"</span>),</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  <span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.rpart"</span>, <span class="dt">id =</span> <span class="st">"rpart"</span>),</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  <span class="kw"><a href="../../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.randomForest"</span>, <span class="dt">id =</span> <span class="st">"randomForest"</span>)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb13-7" data-line-number="7"></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co"># Get additional Tasks from package mlbench</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9">ring.task =<span class="st"> </span><span class="kw"><a href="../../reference/convertMLBenchObjToTask.html">convertMLBenchObjToTask</a></span>(<span class="st">"mlbench.ringnorm"</span>, <span class="dt">n =</span> <span class="dv">600</span>)</a>
<a class="sourceLine" id="cb13-10" data-line-number="10">wave.task =<span class="st"> </span><span class="kw"><a href="../../reference/convertMLBenchObjToTask.html">convertMLBenchObjToTask</a></span>(<span class="st">"mlbench.waveform"</span>, <span class="dt">n =</span> <span class="dv">600</span>)</a>
<a class="sourceLine" id="cb13-11" data-line-number="11"></a>
<a class="sourceLine" id="cb13-12" data-line-number="12">tasks =<span class="st"> </span><span class="kw">list</span>(iris.task, sonar.task, pid.task, ring.task, wave.task)</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">rdesc =<span class="st"> </span><span class="kw"><a href="../../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb13-14" data-line-number="14">meas =<span class="st"> </span><span class="kw">list</span>(mmce, ber, timetrain)</a>
<a class="sourceLine" id="cb13-15" data-line-number="15">bmr =<span class="st"> </span><span class="kw"><a href="../../reference/benchmark.html">benchmark</a></span>(lrns, tasks, rdesc, meas, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb13-16" data-line-number="16">bmr</a>
<a class="sourceLine" id="cb13-17" data-line-number="17">##                        task.id   learner.id mmce.test.mean ber.test.mean</a>
<a class="sourceLine" id="cb13-18" data-line-number="18">## 1                 iris-example          lda     0.02000000    0.02222222</a>
<a class="sourceLine" id="cb13-19" data-line-number="19">## 2                 iris-example        rpart     0.08000000    0.07555556</a>
<a class="sourceLine" id="cb13-20" data-line-number="20">## 3                 iris-example randomForest     0.05333333    0.05250000</a>
<a class="sourceLine" id="cb13-21" data-line-number="21">## 4             mlbench.ringnorm          lda     0.35000000    0.34605671</a>
<a class="sourceLine" id="cb13-22" data-line-number="22">## 5             mlbench.ringnorm        rpart     0.17333333    0.17313632</a>
<a class="sourceLine" id="cb13-23" data-line-number="23">## 6             mlbench.ringnorm randomForest     0.05833333    0.05806121</a>
<a class="sourceLine" id="cb13-24" data-line-number="24">## 7             mlbench.waveform          lda     0.19000000    0.18257244</a>
<a class="sourceLine" id="cb13-25" data-line-number="25">## 8             mlbench.waveform        rpart     0.28833333    0.28765247</a>
<a class="sourceLine" id="cb13-26" data-line-number="26">## 9             mlbench.waveform randomForest     0.17000000    0.16785592</a>
<a class="sourceLine" id="cb13-27" data-line-number="27">## 10 PimaIndiansDiabetes-example          lda     0.22778537    0.27148893</a>
<a class="sourceLine" id="cb13-28" data-line-number="28">## 11 PimaIndiansDiabetes-example        rpart     0.25133288    0.28967870</a>
<a class="sourceLine" id="cb13-29" data-line-number="29">## 12 PimaIndiansDiabetes-example randomForest     0.23429597    0.27417854</a>
<a class="sourceLine" id="cb13-30" data-line-number="30">## 13               Sonar-example          lda     0.24619048    0.23986694</a>
<a class="sourceLine" id="cb13-31" data-line-number="31">## 14               Sonar-example        rpart     0.30785714    0.31153361</a>
<a class="sourceLine" id="cb13-32" data-line-number="32">## 15               Sonar-example randomForest     0.16809524    0.16470474</a>
<a class="sourceLine" id="cb13-33" data-line-number="33">##    timetrain.test.mean</a>
<a class="sourceLine" id="cb13-34" data-line-number="34">## 1               0.0025</a>
<a class="sourceLine" id="cb13-35" data-line-number="35">## 2               0.0041</a>
<a class="sourceLine" id="cb13-36" data-line-number="36">## 3               0.0284</a>
<a class="sourceLine" id="cb13-37" data-line-number="37">## 4               0.0068</a>
<a class="sourceLine" id="cb13-38" data-line-number="38">## 5               0.0092</a>
<a class="sourceLine" id="cb13-39" data-line-number="39">## 6               0.3600</a>
<a class="sourceLine" id="cb13-40" data-line-number="40">## 7               0.0072</a>
<a class="sourceLine" id="cb13-41" data-line-number="41">## 8               0.0095</a>
<a class="sourceLine" id="cb13-42" data-line-number="42">## 9               0.3831</a>
<a class="sourceLine" id="cb13-43" data-line-number="43">## 10              0.0039</a>
<a class="sourceLine" id="cb13-44" data-line-number="44">## 11              0.0057</a>
<a class="sourceLine" id="cb13-45" data-line-number="45">## 12              0.3324</a>
<a class="sourceLine" id="cb13-46" data-line-number="46">## 13              0.0153</a>
<a class="sourceLine" id="cb13-47" data-line-number="47">## 14              0.0117</a>
<a class="sourceLine" id="cb13-48" data-line-number="48">## 15              0.2526</a></code></pre></div>
<p>From the aggregated performance values we can see that for the iris- and PimaIndiansDiabetes-example linear discriminant analysis (<code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code>) performs well while for all other tasks the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> seems superior. Training takes longer for the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> than for the other learners.</p>
<p>In order to draw any conclusions from the average performances at least their variability has to be taken into account or, preferably, the distribution of performance values across resampling iterations.</p>
<p>The individual performances on the 10 folds for every task, learner, and measure are retrieved below.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">perf =<span class="st"> </span><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr, <span class="dt">as.df =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">head</span>(perf)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">##        task.id learner.id iter      mmce       ber timetrain</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">## 1 iris-example        lda    1 0.0000000 0.0000000     0.004</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">## 2 iris-example        lda    2 0.1333333 0.1666667     0.004</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">## 3 iris-example        lda    3 0.0000000 0.0000000     0.003</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">## 4 iris-example        lda    4 0.0000000 0.0000000     0.002</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">## 5 iris-example        lda    5 0.0000000 0.0000000     0.003</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">## 6 iris-example        lda    6 0.0000000 0.0000000     0.002</a></code></pre></div>
<p>A closer look at the result reveals that the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> outperforms the classification tree (<code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code>) in every instance, while linear discriminant analysis (<code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code>) performs better than <code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code> most of the time. Additionally <code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code> sometimes even beats the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code>. With increasing size of such <code><a href="../../reference/benchmark.html">benchmark()</a></code> experiments, those tables become almost unreadable and hard to comprehend.</p>
<p><code>mlr</code> features some plotting functions to visualize results of benchmark experiments that you might find useful. Moreover, <code>mlr</code> offers statistical hypothesis tests to assess performance differences between learners.</p>
</div>
<div id="integrated-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#integrated-plots" class="anchor"></a>Integrated plots</h2>
<p>Plots are generated using <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot2-package">ggplot2::ggplot2()</a></code>. Further customization, such as renaming plot elements or changing colors, is easily possible.</p>
<div id="visualizing-performances" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-performances" class="anchor"></a>Visualizing performances</h3>
<p><code><a href="../../reference/plotBMRBoxplots.html">plotBMRBoxplots()</a></code> creates box or violin plots which show the distribution of performance values across resampling iterations for one performance measure and for all learners and tasks (and thus visualize the output of <code><a href="../../reference/getBMRPerformances.html">getBMRPerformances()</a></code>).</p>
<p>Below are both variants, box and violin plots. The first plot shows the <a href="measures.html" target="_blank">mmce</a> and the second plot the <a href="measures.html" target="_blank">ber</a>. Moreover, in the second plot we color the boxes according to the <code>learner.id</code>s.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRBoxplots.html">plotBMRBoxplots</a></span>(bmr, <span class="dt">measure =</span> mmce, <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRBoxplots.html">plotBMRBoxplots</a></span>(bmr, <span class="dt">measure =</span> ber, <span class="dt">style =</span> <span class="st">"violin"</span>, <span class="dt">pretty.names =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb16-2" data-line-number="2">  <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr)) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="st">  </span><span class="kw">aes</span>(<span class="dt">color =</span> learner.id) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">strip.text.x =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-17-2.png" width="700"></p>
<p>Note that by default the measure <code>name</code>s and the learner <code>short.name</code>s are used as axis labels.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">mmce<span class="op">$</span>name</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">## [1] "Mean misclassification error"</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">mmce<span class="op">$</span>id</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">## [1] "mmce"</a>
<a class="sourceLine" id="cb17-6" data-line-number="6"></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr)</a>
<a class="sourceLine" id="cb17-8" data-line-number="8">## [1] "lda"          "rpart"        "randomForest"</a>
<a class="sourceLine" id="cb17-9" data-line-number="9"></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="kw"><a href="../../reference/getBMRLearnerShortNames.html">getBMRLearnerShortNames</a></span>(bmr)</a>
<a class="sourceLine" id="cb17-11" data-line-number="11">## [1] "lda"   "rpart" "rf"</a></code></pre></div>
<p>If you prefer the <code>id</code>s like, e.g., mmce and ber set <code>pretty.names = FALSE</code> (as done for the second plot). Of course you can also use the <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot2-package">ggplot2::ggplot2()</a></code> functionality like the <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggplot2::labs()</a></code> function to choose completely different labels.</p>
<p>One question which comes up quite often is how to change the panel headers (which default to the <code><a href="../../reference/Task.html">Task()</a></code> IDs) and the learner names on the x-axis. For example looking at the above plots we would like to remove the “example” suffixes and the “mlbench” prefixes from the panel headers. Moreover, we want uppercase learner labels. Currently, the probably simplest solution is to change the factor levels of the plotted data as shown below.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">plt =<span class="st"> </span><span class="kw"><a href="../../reference/plotBMRBoxplots.html">plotBMRBoxplots</a></span>(bmr, <span class="dt">measure =</span> mmce, <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr))</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">head</span>(plt<span class="op">$</span>data)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">##        task.id learner.id iter      mmce       ber timetrain</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">## 1 iris-example        lda    1 0.0000000 0.0000000     0.004</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">## 2 iris-example        lda    2 0.1333333 0.1666667     0.004</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">## 3 iris-example        lda    3 0.0000000 0.0000000     0.003</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">## 4 iris-example        lda    4 0.0000000 0.0000000     0.002</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">## 5 iris-example        lda    5 0.0000000 0.0000000     0.003</a>
<a class="sourceLine" id="cb18-9" data-line-number="9">## 6 iris-example        lda    6 0.0000000 0.0000000     0.002</a>
<a class="sourceLine" id="cb18-10" data-line-number="10"></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="kw">levels</span>(plt<span class="op">$</span>data<span class="op">$</span>task.id) =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Iris"</span>, <span class="st">"Ringnorm"</span>, <span class="st">"Waveform"</span>, <span class="st">"Diabetes"</span>, <span class="st">"Sonar"</span>)</a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="kw">levels</span>(plt<span class="op">$</span>data<span class="op">$</span>learner.id) =<span class="st"> </span><span class="kw">c</span>(<span class="st">"LDA"</span>, <span class="st">"CART"</span>, <span class="st">"RF"</span>)</a>
<a class="sourceLine" id="cb18-13" data-line-number="13"></a>
<a class="sourceLine" id="cb18-14" data-line-number="14">plt <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">"Error rate"</span>)</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
</div>
<div id="visualizing-aggregated-performances" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-aggregated-performances" class="anchor"></a>Visualizing aggregated performances</h3>
<p>The aggregated performance values (resulting from <code><a href="../../reference/getBMRAggrPerformances.html">getBMRAggrPerformances()</a></code>) can be visualized by function <code><a href="../../reference/plotBMRSummary.html">plotBMRSummary()</a></code>. This plot draws one line for each task on which the aggregated values of one performance measure for all learners are displayed. By default, the first measure in the <code><a href="http://www.rdocumentation.org/packages/base/topics/list">base::list()</a></code> of Measure’s (<code><a href="../../reference/makeMeasure.html">makeMeasure()</a></code>) passed to <code><a href="../../reference/benchmark.html">benchmark()</a></code> is used, in our example <a href="measures.html" target="_blank">mmce</a>. Moreover, a small vertical jitter is added to prevent overplotting.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRSummary.html">plotBMRSummary</a></span>(bmr)</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
</div>
<div id="calculating-and-visualizing-ranks" class="section level3">
<h3 class="hasAnchor">
<a href="#calculating-and-visualizing-ranks" class="anchor"></a>Calculating and visualizing ranks</h3>
<p>Additional to the absolute performance, relative performance, i.e., ranking the learners is usually of interest and might provide valuable additional insight.</p>
<p>Function <code><a href="../../reference/convertBMRToRankMatrix.html">convertBMRToRankMatrix()</a></code> calculates ranks based on aggregated learner performances of one measure. We choose the <a href="measures.html" target="_blank">mean misclassification error</a>. The rank structure can be visualized by <code><a href="../../reference/plotBMRRanksAsBarChart.html">plotBMRRanksAsBarChart()</a></code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">m =<span class="st"> </span><span class="kw"><a href="../../reference/convertBMRToRankMatrix.html">convertBMRToRankMatrix</a></span>(bmr, mmce)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">m</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">##              iris-example mlbench.ringnorm mlbench.waveform</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">## lda                     1                3                2</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">## rpart                   3                2                3</a>
<a class="sourceLine" id="cb20-6" data-line-number="6">## randomForest            2                1                1</a>
<a class="sourceLine" id="cb20-7" data-line-number="7">##              PimaIndiansDiabetes-example Sonar-example</a>
<a class="sourceLine" id="cb20-8" data-line-number="8">## lda                                    1             2</a>
<a class="sourceLine" id="cb20-9" data-line-number="9">## rpart                                  3             3</a>
<a class="sourceLine" id="cb20-10" data-line-number="10">## randomForest                           2             1</a></code></pre></div>
<p>Methods with best performance, i.e., with lowest <a href="measures.html" target="_blank">mmce</a>, are assigned the lowest rank. Linear discriminant analysis (<code><a href="http://www.rdocumentation.org/packages/MASS/topics/lda">MASS::lda()</a></code>) is best for the iris and PimaIndiansDiabetes-examples while the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code> shows best results on the remaining tasks.</p>
<p><code><a href="../../reference/plotBMRRanksAsBarChart.html">plotBMRRanksAsBarChart()</a></code> with option <code>pos = "tile"</code> shows a corresponding heat map. The ranks are displayed on the x-axis and the learners are color-coded.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRRanksAsBarChart.html">plotBMRRanksAsBarChart</a></span>(bmr, <span class="dt">pos =</span> <span class="st">"tile"</span>, <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<p>A similar plot can also be obtained via <code><a href="../../reference/plotBMRSummary.html">plotBMRSummary()</a></code>. With option <code>trafo = "rank"</code> the ranks are displayed instead of the aggregated performances.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRSummary.html">plotBMRSummary</a></span>(bmr, <span class="dt">trafo =</span> <span class="st">"rank"</span>, <span class="dt">jitter =</span> <span class="dv">0</span>)</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<p>Alternatively, you can draw stacked bar charts (the default) or bar charts with juxtaposed bars (<code>pos = "dodge"</code>) that are better suited to compare the frequencies of learners within and across ranks.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw"><a href="../../reference/plotBMRRanksAsBarChart.html">plotBMRRanksAsBarChart</a></span>(bmr, <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr))</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw"><a href="../../reference/plotBMRRanksAsBarChart.html">plotBMRRanksAsBarChart</a></span>(bmr, <span class="dt">pos =</span> <span class="st">"dodge"</span>, <span class="dt">order.lrn =</span> <span class="kw"><a href="../../reference/getBMRLearnerIds.html">getBMRLearnerIds</a></span>(bmr))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-24-1.png" width="50%"><img src="benchmark_experiments_files/figure-html/unnamed-chunk-24-2.png" width="50%"></p>
</div>
</div>
<div id="comparing-learners-using-hypothesis-tests" class="section level2">
<h2 class="hasAnchor">
<a href="#comparing-learners-using-hypothesis-tests" class="anchor"></a>Comparing learners using hypothesis tests</h2>
<p>Many researchers feel the need to display an algorithm’s superiority by employing some sort of hypothesis testing. As non-parametric tests seem better suited for such benchmark results the tests provided in <code>mlr</code> are the <strong>Overall Friedman test</strong> and the <strong>Friedman-Nemenyi post hoc test</strong>.</p>
<p>While the ad hoc <code><a href="../../reference/friedmanTestBMR.html">friedmanTestBMR()</a></code> based on <code><a href="http://www.rdocumentation.org/packages/stats/topics/friedman.test">stats::friedman.test()</a></code> is testing the hypothesis whether there is a significant difference between the employed learners, the post hoc <code><a href="../../reference/friedmanPostHocTestBMR.html">friedmanPostHocTestBMR()</a></code> tests for significant differences between all pairs of learners. <em>Non parametric</em> tests often do have less power then their <em>parametric</em> counterparts but less assumptions about underlying distributions have to be made. This often means many <strong>data sets</strong> are needed in order to be able to show significant differences at reasonable significance levels.</p>
<p>In our example, we want to compare the three learners on the selected data sets. First we might we want to test the hypothesis whether there is a difference between the learners.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw"><a href="../../reference/friedmanTestBMR.html">friedmanTestBMR</a></span>(bmr)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">## </a>
<a class="sourceLine" id="cb24-3" data-line-number="3">##  Friedman rank sum test</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">## </a>
<a class="sourceLine" id="cb24-5" data-line-number="5">## data:  mmce.test.mean and learner.id and task.id</a>
<a class="sourceLine" id="cb24-6" data-line-number="6">## Friedman chi-squared = 5.2, df = 2, p-value = 0.07427</a></code></pre></div>
<p>In order to keep the computation time for this tutorial small, the <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s are only evaluated on five tasks. This also means that we operate on a relatively low significance level <span class="math inline">\(\alpha = 0.1\)</span>. As we can reject the null hypothesis of the Friedman test at a reasonable significance level we might now want to test where these differences lie exactly.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw"><a href="../../reference/friedmanPostHocTestBMR.html">friedmanPostHocTestBMR</a></span>(bmr, <span class="dt">p.value =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">## </a>
<a class="sourceLine" id="cb25-3" data-line-number="3">##  Pairwise comparisons using Nemenyi multiple comparison test </a>
<a class="sourceLine" id="cb25-4" data-line-number="4">##              with q approximation for unreplicated blocked data </a>
<a class="sourceLine" id="cb25-5" data-line-number="5">## </a>
<a class="sourceLine" id="cb25-6" data-line-number="6">## data:  mmce.test.mean and learner.id and task.id </a>
<a class="sourceLine" id="cb25-7" data-line-number="7">## </a>
<a class="sourceLine" id="cb25-8" data-line-number="8">##              lda   rpart</a>
<a class="sourceLine" id="cb25-9" data-line-number="9">## rpart        0.254 -    </a>
<a class="sourceLine" id="cb25-10" data-line-number="10">## randomForest 0.802 0.069</a>
<a class="sourceLine" id="cb25-11" data-line-number="11">## </a>
<a class="sourceLine" id="cb25-12" data-line-number="12">## P value adjustment method: none</a></code></pre></div>
<p>At this level of significance, we can reject the null hypothesis that there exists no performance difference between the decision tree (<code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code>) and the <code><a href="http://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest::randomForest()</a></code>.</p>
</div>
<div id="critical-differences-diagram" class="section level2">
<h2 class="hasAnchor">
<a href="#critical-differences-diagram" class="anchor"></a>Critical differences diagram</h2>
<p>In order to visualize differently performing learners, a critical differences diagramcan be plotted, using either the Nemenyi test (<code>test = "nemenyi"</code>) or the Bonferroni-Dunn test (<code>test = "bd"</code>).</p>
<p>The mean rank of learners is displayed on the x-axis.</p>
<ul>
<li>Choosing <code>test = "nemenyi"</code> compares all pairs of <code><a href="../../reference/makeLearner.html">makeLearner()</a></code>s to each other, thus the output are groups of not significantly different learners. The diagram connects all groups of learners where the mean ranks do not differ by more than the critical differences. Learners that are not connected by a bar are significantly different, and the learner(s) with the lower mean rank can be considered “better” at the chosen significance level.</li>
<li>Choosing <code>test = "bd"</code> performs a <em>pairwise comparison with a baseline</em>. An interval which extends by the given <em>critical difference</em> in both directions is drawn around the <code><a href="../../reference/makeLearner.html">makeLearner()</a></code> chosen as baseline, though only comparisons with the baseline are possible. All learners within the interval are not significantly different, while the baseline can be considered better or worse than a given learner which is outside of the interval.</li>
</ul>
<p>The critical difference <span class="math inline">\(\mathit{CD}\)</span> is calculated by <span class="math display">\[\mathit{CD} = q_\alpha \cdot \sqrt{\frac{k(k+1)}{6N}},\]</span> where <span class="math inline">\(N\)</span> denotes the number of tasks, <span class="math inline">\(k\)</span> is the number of learners, and <span class="math inline">\(q_\alpha\)</span> comes from the studentized range statistic divided by <span class="math inline">\(\sqrt{2}\)</span>. For details see <a href="http://www.jmlr.org/papers/volume7/demsar06a/demsar06a.pdf">Demsar (2006)</a>.</p>
<p>Function <code><a href="../../reference/generateCritDifferencesData.html">generateCritDifferencesData()</a></code> does all necessary calculations while function <code><a href="../../reference/plotCritDifferences.html">plotCritDifferences()</a></code> draws the plot. See the tutorial page about <a href="visualization.html" target="_blank">visualization</a> for details on data generation and plotting functions.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="co"># Nemenyi test</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">g =<span class="st"> </span><span class="kw"><a href="../../reference/generateCritDifferencesData.html">generateCritDifferencesData</a></span>(bmr, <span class="dt">p.value =</span> <span class="fl">0.1</span>, <span class="dt">test =</span> <span class="st">"nemenyi"</span>)</a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="kw"><a href="../../reference/plotCritDifferences.html">plotCritDifferences</a></span>(g) <span class="op">+</span><span class="st"> </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_colour_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">"lda"</span> =<span class="st"> "#F8766D"</span>, <span class="st">"rpart"</span> =<span class="st"> "#00BA38"</span>, <span class="st">"randomForest"</span> =<span class="st"> "#619CFF"</span>))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co"># Bonferroni-Dunn test</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">g =<span class="st"> </span><span class="kw"><a href="../../reference/generateCritDifferencesData.html">generateCritDifferencesData</a></span>(bmr, <span class="dt">p.value =</span> <span class="fl">0.1</span>, <span class="dt">test =</span> <span class="st">"bd"</span>, <span class="dt">baseline =</span> <span class="st">"randomForest"</span>)</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="kw"><a href="../../reference/plotCritDifferences.html">plotCritDifferences</a></span>(g) <span class="op">+</span><span class="st"> </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_colour_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">"lda"</span> =<span class="st"> "#F8766D"</span>, <span class="st">"rpart"</span> =<span class="st"> "#00BA38"</span>, <span class="st">"randomForest"</span> =<span class="st"> "#619CFF"</span>))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-27-2.png" width="700"></p>
</div>
<div id="custom-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-plots" class="anchor"></a>Custom plots</h2>
<p>You can easily generate your own visualizations by customizing the <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot2::ggplot()</a></code> objects returned by the plots above, retrieve the data from the <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot2::ggplot()</a></code> objects and use them as basis for your own plots, or rely on the <code><a href="http://www.rdocumentation.org/packages/base/topics/data.frame">base::data.frame()</a></code>s returned by <code><a href="../../reference/getBMRPerformances.html">getBMRPerformances()</a></code> or <code><a href="../../reference/getBMRAggrPerformances.html">getBMRAggrPerformances()</a></code>. Here are some examples.</p>
<p>Instead of boxplots (as in <code><a href="../../reference/plotBMRBoxplots.html">plotBMRBoxplots()</a></code>) we could create density plots to show the performance values resulting from individual resampling iterations.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">perf =<span class="st"> </span><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr, <span class="dt">as.df =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co"># Density plots for two tasks</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="kw">qplot</span>(mmce, <span class="dt">colour =</span> learner.id, <span class="dt">facets =</span> . <span class="op">~</span><span class="st"> </span>task.id,</a>
<a class="sourceLine" id="cb28-5" data-line-number="5">  <span class="dt">data =</span> perf[perf<span class="op">$</span>task.id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"iris-example"</span>, <span class="st">"Sonar-example"</span>),], <span class="dt">geom =</span> <span class="st">"density"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">strip.text.x =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>))</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-28-1.png" width="700"></p>
<p>In order to plot multiple performance measures in parallel, <code>perf</code> is reshaped to long format. Below we generate grouped boxplots showing the error rate and the training time <a href="measures.html" target="_blank">timetrain</a>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># Compare mmce and timetrain</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">df =<span class="st"> </span>reshape2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/reshape2/topics/melt">melt</a></span>(perf, <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">"task.id"</span>, <span class="st">"learner.id"</span>, <span class="st">"iter"</span>))</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">df =<span class="st"> </span>df[df<span class="op">$</span>variable <span class="op">!=</span><span class="st"> "ber"</span>,]</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="kw">head</span>(df)</a>
<a class="sourceLine" id="cb29-5" data-line-number="5">##        task.id learner.id iter variable     value</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">## 1 iris-example        lda    1     mmce 0.0000000</a>
<a class="sourceLine" id="cb29-7" data-line-number="7">## 2 iris-example        lda    2     mmce 0.1333333</a>
<a class="sourceLine" id="cb29-8" data-line-number="8">## 3 iris-example        lda    3     mmce 0.0000000</a>
<a class="sourceLine" id="cb29-9" data-line-number="9">## 4 iris-example        lda    4     mmce 0.0000000</a>
<a class="sourceLine" id="cb29-10" data-line-number="10">## 5 iris-example        lda    5     mmce 0.0000000</a>
<a class="sourceLine" id="cb29-11" data-line-number="11">## 6 iris-example        lda    6     mmce 0.0000000</a>
<a class="sourceLine" id="cb29-12" data-line-number="12"></a>
<a class="sourceLine" id="cb29-13" data-line-number="13"><span class="kw">qplot</span>(variable, value, <span class="dt">data =</span> df, <span class="dt">colour =</span> learner.id, <span class="dt">geom =</span> <span class="st">"boxplot"</span>,</a>
<a class="sourceLine" id="cb29-14" data-line-number="14">  <span class="dt">xlab =</span> <span class="st">"measure"</span>, <span class="dt">ylab =</span> <span class="st">"performance"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb29-15" data-line-number="15"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>task.id, <span class="dt">nrow =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-29-1.png" width="700"></p>
<p>It might also be useful to assess if learner performances in single resampling iterations, i.e., in one fold, are related. This might help to gain further insight, for example by having a closer look at train and test sets from iterations where one learner performs exceptionally well while another one is fairly bad. Moreover, this might be useful for the construction of ensembles of learning algorithms. Below, function <code><a href="http://www.rdocumentation.org/packages/GGally/topics/ggpairs">GGally::ggpairs()</a></code> from package <code>GGally::GGally()</code> is used to generate a scatterplot matrix of <a href="measures.html" target="_blank">mean misclassification errors</a> on the <code><a href="http://www.rdocumentation.org/packages/mlbench/topics/Sonar">mlbench::Sonar()</a></code> data set.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">perf =<span class="st"> </span><span class="kw"><a href="../../reference/getBMRPerformances.html">getBMRPerformances</a></span>(bmr, <span class="dt">task.id =</span> <span class="st">"Sonar-example"</span>, <span class="dt">as.df =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">df =<span class="st"> </span>reshape2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/reshape2/topics/melt">melt</a></span>(perf, <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">"task.id"</span>, <span class="st">"learner.id"</span>, <span class="st">"iter"</span>))</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">df =<span class="st"> </span>df[df<span class="op">$</span>variable <span class="op">==</span><span class="st"> "mmce"</span>,]</a>
<a class="sourceLine" id="cb30-4" data-line-number="4">df =<span class="st"> </span>reshape2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/reshape2/topics/cast">dcast</a></span>(df, task.id <span class="op">+</span><span class="st"> </span>iter <span class="op">~</span><span class="st"> </span>variable <span class="op">+</span><span class="st"> </span>learner.id)</a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="kw">head</span>(df)</a>
<a class="sourceLine" id="cb30-6" data-line-number="6">##         task.id iter  mmce_lda mmce_rpart mmce_randomForest</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">## 1 Sonar-example    1 0.2857143  0.2857143        0.14285714</a>
<a class="sourceLine" id="cb30-8" data-line-number="8">## 2 Sonar-example    2 0.2380952  0.2380952        0.19047619</a>
<a class="sourceLine" id="cb30-9" data-line-number="9">## 3 Sonar-example    3 0.3333333  0.2857143        0.28571429</a>
<a class="sourceLine" id="cb30-10" data-line-number="10">## 4 Sonar-example    4 0.2380952  0.3333333        0.04761905</a>
<a class="sourceLine" id="cb30-11" data-line-number="11">## 5 Sonar-example    5 0.1428571  0.2857143        0.14285714</a>
<a class="sourceLine" id="cb30-12" data-line-number="12">## 6 Sonar-example    6 0.4000000  0.4500000        0.20000000</a>
<a class="sourceLine" id="cb30-13" data-line-number="13"></a>
<a class="sourceLine" id="cb30-14" data-line-number="14">GGally<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/GGally/topics/ggpairs">ggpairs</a></span>(df, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>)</a></code></pre></div>
<p><img src="benchmark_experiments_files/figure-html/unnamed-chunk-30-1.png" width="700"></p>
</div>
</div>
<div id="further-comments" class="section level1">
<h1 class="hasAnchor">
<a href="#further-comments" class="anchor"></a>Further comments</h1>
<ul>
<li>Note that for supervised classification <code>mlr</code> offers some more plots that operate on <code><a href="../../reference/BenchmarkResult.html">BenchmarkResult()</a></code> objects and allow you to compare the performance of learning algorithms. See for example the tutorial page on <a href="roc_analysis.html" target="_blank">ROC analysis</a> and functions <code><a href="../../reference/generateThreshVsPerfData.html">generateThreshVsPerfData()</a></code>, <code><a href="../../reference/plotROCCurves.html">plotROCCurves()</a></code>, and <code>plotViperCharts()</code> as well as the page about <a href="classifier_calibration.html" target="_blank">classifier calibration</a> and function <code><a href="../../reference/generateCalibrationData.html">generateCalibrationData()</a></code>.</li>
<li>In the examples shown in this section we applied “raw” learning algorithms, but often things are more complicated. At the very least, many learners have hyperparameters that need to be tuned to get sensible results. Reliable performance estimates can be obtained by <a href="nested_resampling.html" target="_blank">nested resampling</a>, i.e., by doing the tuning in an inner resampling loop while estimating the performance in an outer loop. Moreover, you might want to combine learners with pre-processing steps like imputation, scaling, outlier removal, dimensionality reduction or feature selection and so on. All this can be easily done using <code>mlr</code>’s wrapper functionality. The general principle is explained in the section about <a href="wrapper.html" target="_blank">wrapper</a> in the Advanced part of this tutorial. There are also several sections devoted to common pre-processing steps.</li>
<li>Benchmark experiments can very quickly become computationally demanding. <code>mlr</code> offers some possibilities for <a href="parallelization.html" target="_blank">parallelization</a>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#conducting-benchmark-experiments">Conducting benchmark experiments</a><ul class="nav nav-pills nav-stacked">
<li><a href="#making-experiments-reproducible">Making experiments reproducible</a></li>
      </ul>
</li>
      <li>
<a href="#accessing-benchmark-results">Accessing benchmark results</a><ul class="nav nav-pills nav-stacked">
<li><a href="#learner-performances">Learner performances</a></li>
      <li><a href="#predictions">Predictions</a></li>
      <li><a href="#ids">IDs</a></li>
      <li><a href="#fitted-models">Fitted models</a></li>
      <li><a href="#learners-and-measures">Learners and measures</a></li>
      </ul>
</li>
      <li><a href="#merging-benchmark-results">Merging benchmark results</a></li>
      <li>
<a href="#benchmark-analysis-and-visualization">Benchmark analysis and visualization</a><ul class="nav nav-pills nav-stacked">
<li><a href="#example-comparing-lda-rpart-and-random-forest">Example: Comparing lda, rpart and random Forest</a></li>
      <li><a href="#integrated-plots">Integrated plots</a></li>
      <li><a href="#comparing-learners-using-hypothesis-tests">Comparing learners using hypothesis tests</a></li>
      <li><a href="#critical-differences-diagram">Critical differences diagram</a></li>
      <li><a href="#custom-plots">Custom plots</a></li>
      </ul>
</li>
      <li><a href="#further-comments">Further comments</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><!--<div class="copyright">
  <p>Developed by Bernd Bischl, Michel Lang, Lars Kotthoff, Julia Schiffner, Jakob Richter, Zachary Jones, Giuseppe Casalicchio, Mason Gallo, Patrick Schratz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>
--></footer>
</div>

   
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript"> docsearch({
 apiKey: 'e300ecafdf04fe1199e3339c825ce7d0',
 indexName: 'mlr',
 inputSelector: 'input#search-input.form-control',
 debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
